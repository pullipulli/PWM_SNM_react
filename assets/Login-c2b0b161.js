import{s as B,a as C,r as d,u as b,e as N,_ as S,j as e,b as v,c as w,g as y,d as F,T,C as E,f as _,h as P,i as x,S as R,B as I}from"./index-947d2898.js";import{a as L,e as M}from"./axios-99f4dd66.js";import{u as D,F as H,R as h}from"./RHFTextField-481993f0.js";import{D as U}from"./Divider-8bed6034.js";const $=["className","component"];function k(i={}){const{themeId:t,defaultTheme:c,defaultClassName:a="MuiBox-root",generateClassName:o}=i,r=B("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(C);return d.forwardRef(function(n,f){const l=b(c),u=N(n),{className:p,component:g="div"}=u,j=S(u,$);return e.jsx(r,v({as:g,ref:f,className:w(p,o?o(a):a),theme:t&&l[t]||l},j))})}const z=y("MuiBox",["root"]),A=z,G=F(),V=k({themeId:T,defaultTheme:G,defaultClassName:A.root,generateClassName:E.generate}),W=V;function Q(){const[i,t]=d.useState(!1),{login:c,isLoggedIn:a}=_(),o=P();d.useEffect(()=>{a()&&o(x.profile.path)},[a]);const r=D({defaultValues:{username:"",password:""}}),m=async s=>{try{const n=await L.post(M.login,s);c(n.data),t(!1),r.reset(),o(x.profile.path)}catch(n){t(!0),console.log(n)}};return e.jsxs("div",{children:[e.jsx(H,{...r,children:e.jsx(W,{component:"form",onSubmit:r.handleSubmit(m),children:e.jsxs(R,{spacing:2,children:[e.jsx("div",{children:"Credenziali SNM:"}),e.jsx(h,{name:"username",label:"username",type:"text"}),e.jsx(h,{name:"password",label:"password",type:"password"}),e.jsx(U,{}),e.jsx(I,{type:"submit",children:"Login"})]})})}),i&&e.jsx("div",{children:"Username o password errati"})]})}export{Q as default};
